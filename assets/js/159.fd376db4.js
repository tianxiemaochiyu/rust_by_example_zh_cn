(window.webpackJsonp=window.webpackJsonp||[]).push([[159],{638:function(n,e,s){"use strict";s.r(e);var r=s(4),a=Object(r.a)({},(function(){var n=this,e=n.$createElement,s=n._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[s("h1",{attrs:{id:"参数解析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参数解析"}},[n._v("#")]),n._v(" 参数解析")]),n._v(" "),s("p",[n._v("可以用模式匹配来解析简单的参数：")]),n._v(" "),s("div",{staticClass:"language-rust,editable extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v('use std::env;\n\nfn increase(number: i32) {\n    println!("{}", number + 1);\n}\n\nfn decrease(number: i32) {\n    println!("{}", number - 1);\n}\n\nfn help() {\n    println!("usage:\nmatch_args <string>\n    Check whether given string is the answer.\nmatch_args {{increase|decrease}} <integer>\n    Increase or decrease given integer by one.");\n}\n\nfn main() {\n    let args: Vec<String> = env::args().collect();\n\n    match args.len() {\n        // 没有传入参数\n        1 => {\n            println!("My name is \'match_args\'. Try passing some arguments!");\n        },\n        // 一个传入参数\n        2 => {\n            match args[1].parse() {\n                Ok(42) => println!("This is the answer!"),\n                _ => println!("This is not the answer."),\n            }\n        },\n        // 传入一条命令和一个参数\n        3 => {\n            let cmd = &args[1];\n            let num = &args[2];\n            // 解析数字\n            let number: i32 = match num.parse() {\n                Ok(n) => {\n                    n\n                },\n                Err(_) => {\n                    println!("error: second argument not an integer");\n                    help();\n                    return;\n                },\n            };\n            // 解析命令\n            match &cmd[..] {\n                "increase" => increase(number),\n                "decrease" => decrease(number),\n                _ => {\n                    println!("error: invalid command");\n                    help();\n                },\n            }\n        },\n        // 所有其他情况\n        _ => {\n            // 显示帮助信息\n            help();\n        }\n    }\n}\n')])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[n._v("$ ./match_args Rust\nThis is not the answer.\n$ ./match_args "),s("span",{pre:!0,attrs:{class:"token number"}},[n._v("42")]),n._v("\nThis is the answer"),s("span",{pre:!0,attrs:{class:"token operator"}},[n._v("!")]),n._v("\n$ ./match_args "),s("span",{pre:!0,attrs:{class:"token keyword"}},[n._v("do")]),n._v(" something\nerror: second argument not an integer\nusage:\nmatch_args "),s("span",{pre:!0,attrs:{class:"token operator"}},[n._v("<")]),n._v("string"),s("span",{pre:!0,attrs:{class:"token operator"}},[n._v(">")]),n._v("\n    Check whether given string is the answer.\nmatch_args "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("{")]),n._v("increase"),s("span",{pre:!0,attrs:{class:"token operator"}},[n._v("|")]),n._v("decrease"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("}")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[n._v("<")]),n._v("integer"),s("span",{pre:!0,attrs:{class:"token operator"}},[n._v(">")]),n._v("\n    Increase or decrease given integer by one.\n$ ./match_args "),s("span",{pre:!0,attrs:{class:"token keyword"}},[n._v("do")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[n._v("42")]),n._v("\nerror: invalid "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[n._v("command")]),n._v("\nusage:\nmatch_args "),s("span",{pre:!0,attrs:{class:"token operator"}},[n._v("<")]),n._v("string"),s("span",{pre:!0,attrs:{class:"token operator"}},[n._v(">")]),n._v("\n    Check whether given string is the answer.\nmatch_args "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("{")]),n._v("increase"),s("span",{pre:!0,attrs:{class:"token operator"}},[n._v("|")]),n._v("decrease"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("}")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[n._v("<")]),n._v("integer"),s("span",{pre:!0,attrs:{class:"token operator"}},[n._v(">")]),n._v("\n    Increase or decrease given integer by one.\n$ ./match_args increase "),s("span",{pre:!0,attrs:{class:"token number"}},[n._v("42")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[n._v("43")]),n._v("\n")])])])])}),[],!1,null,null,null);e.default=a.exports}}]);