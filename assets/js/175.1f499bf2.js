(window.webpackJsonp=window.webpackJsonp||[]).push([[175],{653:function(e,t,s){"use strict";s.r(t);var n=s(4),a=Object(n.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"开发依赖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开发依赖"}},[e._v("#")]),e._v(" 开发依赖")]),e._v(" "),s("p",[e._v("有时仅在测试中才需要一些依赖（比如基准测试相关的）。这种依赖要写在 "),s("code",[e._v("Cargo.toml")]),e._v("\n的 "),s("code",[e._v("[dev-dependencies]")]),e._v(" 部分。这些依赖不会传播给其他依赖于这个包的包。")]),e._v(" "),s("p",[e._v("比如说使用 "),s("code",[e._v("pretty_assertions")]),e._v("，这是扩展了标准的 "),s("code",[e._v("assert!")]),e._v(" 宏的一个 crate。")]),e._v(" "),s("p",[e._v("文件 "),s("code",[e._v("Cargo.toml")]),e._v(":")]),e._v(" "),s("div",{staticClass:"language-ignore extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ignore"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 这里省略了标准的 crate 数据")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token entry string"}},[s("span",{pre:!0,attrs:{class:"token regex"}},[e._v("[dev-dependencies]")])]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token entry string"}},[e._v('pretty_assertions = "0.4.0"')]),e._v("\n")])])]),s("p",[e._v("文件 "),s("code",[e._v("src/lib.rs")]),e._v(":")]),e._v(" "),s("div",{staticClass:"language-rust,ignore extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("// 仅用于测试的外部 crate\n#[cfg(test)]\n#[macro_use]\nextern crate pretty_assertions;\n\npub fn add(a: i32, b: i32) -> i32 {\n    a + b\n}\n\n#[cfg(test)]\nmod tests {\n    use super::*;\n\n    #[test]\n    fn test_add() {\n        assert_eq!(add(2, 3), 5);\n    }\n}\n")])])]),s("h2",{attrs:{id:"参见"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参见"}},[e._v("#")]),e._v(" 参见")]),e._v(" "),s("p",[s("a",{attrs:{href:"http://doc.crates.io/specifying-dependencies.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cargo"),s("OutboundLink")],1),e._v(" 文档中关于指定依赖的部分。")])])}),[],!1,null,null,null);t.default=a.exports}}]);