(window.webpackJsonp=window.webpackJsonp||[]).push([[189],{668:function(e,t,n){"use strict";n.r(t);var _=n(4),s=Object(_.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"字面量"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#字面量"}},[e._v("#")]),e._v(" 字面量")]),e._v(" "),n("p",[e._v("对数值字面量，只要把类型作为后缀加上去，就完成了类型说明。比如指定字面量 "),n("code",[e._v("42")]),e._v(" 的\n类型是 "),n("code",[e._v("i32")]),e._v("，只需要写 "),n("code",[e._v("42i32")]),e._v("。")]),e._v(" "),n("p",[e._v("无后缀的数值字面量，其类型取决于怎样使用它们。如果没有限制，编译器会对整数使用\n"),n("code",[e._v("i32")]),e._v("，对浮点数使用 "),n("code",[e._v("f64")]),e._v("。")]),e._v(" "),n("div",{staticClass:"language-rust,editable extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('fn main() {\n    // 带后缀的字面量，其类型在初始化时已经知道了。\n    let x = 1u8;\n    let y = 2u32;\n    let z = 3f32;\n\n    // 无后缀的字面量，其类型取决于如何使用它们。\n    let i = 1;\n    let f = 1.0;\n\n    // `size_of_val` 返回一个变量所占的字节数\n    println!("size of `x` in bytes: {}", std::mem::size_of_val(&x));\n    println!("size of `y` in bytes: {}", std::mem::size_of_val(&y));\n    println!("size of `z` in bytes: {}", std::mem::size_of_val(&z));\n    println!("size of `i` in bytes: {}", std::mem::size_of_val(&i));\n    println!("size of `f` in bytes: {}", std::mem::size_of_val(&f));\n}\n')])])]),n("p",[e._v("上面的代码使用了一些还没有讨论过的概念。心急的读者可以看看下面的简短解释：")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("fun(&foo)")]),e._v(" 用"),n("strong",[e._v("传引用")]),e._v("（pass by reference）的方式把变量传给函数，而非\n传值（pass by value，写法是 "),n("code",[e._v("fun(foo)")]),e._v("）。更多细节请看"),n("RouterLink",{attrs:{to:"/scope/borrow.html"}},[e._v("借用")]),e._v("。")],1),e._v(" "),n("li",[n("code",[e._v("std::mem::size_of_val")]),e._v(" 是一个函数，这里使用其"),n("strong",[e._v("完整路径")]),e._v("（full path）调用。代\n码可以分成一些叫做"),n("strong",[e._v("模块")]),e._v("（module）的逻辑单元。在本例中，"),n("code",[e._v("size_of_val")]),e._v(" 函数是\n在 "),n("code",[e._v("mem")]),e._v(" 模块中定义的，而 "),n("code",[e._v("mem")]),e._v(" 模块又是在 "),n("code",[e._v("std")]),e._v(" "),n("strong",[e._v("crate")]),e._v(" 中定义的。更多细节\n请看"),n("RouterLink",{attrs:{to:"/mod.html"}},[e._v("模块")]),e._v("和"),n("RouterLink",{attrs:{to:"/crates.html"}},[e._v("crate")]),e._v(".")],1)])])}),[],!1,null,null,null);t.default=s.exports}}]);