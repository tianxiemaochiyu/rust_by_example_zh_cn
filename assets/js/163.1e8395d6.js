(window.webpackJsonp=window.webpackJsonp||[]).push([[163],{642:function(t,e,n){"use strict";n.r(e);var a=n(4),s=Object(a.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"创建文件-create"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建文件-create"}},[t._v("#")]),t._v(" 创建文件 "),n("code",[t._v("create")])]),t._v(" "),n("p",[n("code",[t._v("create")]),t._v(" 静态方法以只写模式（write-only mode）打开一个文件。若文件已经存在，则\n旧内容将被销毁。否则，将创建一个新文件。")]),t._v(" "),n("div",{staticClass:"language-rust,ignore extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('static LOREM_IPSUM: &\'static str =\n"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod\ntempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,\nquis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo\nconsequat. Duis aute irure dolor in reprehenderit in voluptate velit esse\ncillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non\nproident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n";\n\nuse std::error::Error;\nuse std::io::prelude::*;\nuse std::fs::File;\nuse std::path::Path;\n\nfn main() {\n    let path = Path::new("out/lorem_ipsum.txt");\n    let display = path.display();\n\n    // 以只写模式打开文件，返回 `io::Result<File>`\n    let mut file = match File::create(&path) {\n        Err(why) => panic!("couldn\'t create {}: {}",\n                           display,\n                           why.description()),\n        Ok(file) => file,\n    };\n\n    // 将 `LOREM_IPSUM` 字符串写进 `file`，返回 `io::Result<()>`\n    match file.write_all(LOREM_IPSUM.as_bytes()) {\n        Err(why) => {\n            panic!("couldn\'t write to {}: {}", display,\n                                               why.description())\n        },\n        Ok(_) => println!("successfully wrote to {}", display),\n    }\n}\n')])])]),n("p",[t._v("下面是预期成功的输出：")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" out\n$ rustc create.rs "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" ./create\nsuccessfully wrote to out/lorem_ipsum.txt\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" out/lorem_ipsum.txt\nLorem ipsum dolor sit amet, consectetur adipisicing elit, "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sed")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" eiusmod\ntempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,\nquis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo\nconsequat. Duis aute irure dolor "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" reprehenderit "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" voluptate velit esse\ncillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non\nproident, sunt "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" culpa qui officia deserunt mollit anim "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("id")]),t._v(" est laborum.\n")])])]),n("p",[t._v("（和前面例子一样，我们鼓励你在失败条件下测试这个例子。）")]),t._v(" "),n("p",[t._v("还有一个更通用的 "),n("code",[t._v("open_mode")]),t._v(" 方法，这能够以其他方式来来打开\n文件，如：read+write（读+写），追加（append），等等。")])])}),[],!1,null,null,null);e.default=s.exports}}]);