(window.webpackJsonp=window.webpackJsonp||[]).push([[140],{620:function(t,n,s){"use strict";s.r(n);var a=s(4),e=Object(a.a)({},(function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"static"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#static"}},[t._v("#")]),t._v(" static")]),t._v(" "),s("p",[s("code",[t._v("'static")]),t._v(" 生命周期是可能的生命周期中最长的，它会在整个程序运行的时期中\n存在。"),s("code",[t._v("'static")]),t._v(" 生命周期也可被强制转换成一个更短的生命周期。有两种方式使变量\n拥有 "),s("code",[t._v("'static")]),t._v(" 生命周期，它们都把数据保存在可执行文件的只读内存区：")]),t._v(" "),s("ul",[s("li",[t._v("使用 "),s("code",[t._v("static")]),t._v(" 声明来产生常量（constant）。")]),t._v(" "),s("li",[t._v("产生一个拥有 "),s("code",[t._v("&'static str")]),t._v(" 类型的 "),s("code",[t._v("string")]),t._v(" 字面量。")])]),t._v(" "),s("p",[t._v("看下面的例子，了解列举到的各个方法：")]),t._v(" "),s("div",{staticClass:"language-rust,editable extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('// 产生一个拥有 `\'static` 生命周期的常量。\nstatic NUM: i32 = 18;\n\n// 返回一个指向 `NUM` 的引用，该引用不取 `NUM` 的 `\'static` 生命周期，\n// 而是被强制转换成和输入参数的一样。\nfn coerce_static<\'a>(_: &\'a i32) -> &\'a i32 {\n    &NUM\n}\n\nfn main() {\n    {\n        // 产生一个 `string` 字面量并打印它：\n        let static_string = "I\'m in read-only memory";\n        println!("static_string: {}", static_string);\n\n        // 当 `static_string` 离开作用域时，该引用不能再使用，不过\n        // 数据仍然存在于二进制文件里面。\n    }\n    \n    {\n        // 产生一个整型给 `coerce_static` 使用：\n        let lifetime_num = 9;\n\n        // 将对 `NUM` 的引用强制转换成 `lifetime_num` 的生命周期：\n        let coerced_static = coerce_static(&lifetime_num);\n\n        println!("coerced_static: {}", coerced_static);\n    }\n    \n    println!("NUM: {} stays accessible!", NUM);\n}\n')])])]),s("h3",{attrs:{id:"参见："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参见："}},[t._v("#")]),t._v(" 参见：")]),t._v(" "),s("p",[s("RouterLink",{attrs:{to:"/custom_types/constants.html"}},[s("code",[t._v("'static")]),t._v(" 常量")])],1)])}),[],!1,null,null,null);n.default=e.exports}}]);