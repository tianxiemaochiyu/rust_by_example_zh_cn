(window.webpackJsonp=window.webpackJsonp||[]).push([[129],{608:function(n,t,o){"use strict";o.r(t);var r=o(4),e=Object(r.a)({},(function(){var n=this,t=n.$createElement,o=n._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[o("h1",{attrs:{id:"别名使用"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#别名使用"}},[n._v("#")]),n._v(" 别名使用")]),n._v(" "),o("p",[n._v("数据可以进行多次不可变借用，但是在不可变借用的期间，原始数据不可进行可变借用。另\n一方面，在同一时刻内只允许有"),o("strong",[n._v("一个")]),n._v("可变借用。只有在可变引用离开作用域之后，原始\n数据才可再次被借用。")]),n._v(" "),o("div",{staticClass:"language-rust,editable extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[n._v('struct Point { x: i32, y: i32, z: i32 }\n\nfn main() {\n    let mut point = Point { x: 0, y: 0, z: 0 };\n\n    {\n        let borrowed_point = &point;\n        let another_borrow = &point;\n\n        // 通过引用和原始所有者来访问数据\n        println!("Point has coordinates: ({}, {}, {})",\n                 borrowed_point.x, another_borrow.y, point.z);\n\n        // 报错！不能可变地借用 `point` ，因为现在它有不可变的借用。\n        //let mutable_borrow = &mut point;\n        // 试一试 ^ 取消此行注释。\n\n        // 此处再次使用被借用的值\n        println!("Point has coordinates: ({}, {}, {})", borrowed_point.x, another_borrow.y, point.z);\n\n        // 不可变引用离开作用域\n    }\n\n    {\n        let mutable_borrow = &mut point;\n\n        // 通过可变引用来改变数据\n        mutable_borrow.x = 5;\n        mutable_borrow.y = 2;\n        mutable_borrow.z = 1;\n\n        // 报错！不能不可变地借用 `point`，因为现在它有可变的借用。\n        //let y = &point.y;\n        // 试一试 ^ 取消此行注释。\n\n        // 报错！不能打印，因为 `println!` 会创建一个不可变引用。\n        //println!("Point Z coordinate is {}", point.z);\n        // 试一试 ^ 取消此行注释。\n\n        // 可以工作！可变引用可以作为不可变的传给 `println!`。\n        println!("Point has coordinates: ({}, {}, {})",\n                 mutable_borrow.x, mutable_borrow.y, mutable_borrow.z);\n\n        // 可变引用离开作用域\n    }\n\n    // 现在又可以不可变地借用 `point` 了。\n    let borrowed_point = &point;\n    println!("Point now has coordinates: ({}, {}, {})",\n             borrowed_point.x, borrowed_point.y, borrowed_point.z);\n}\n')])])])])}),[],!1,null,null,null);t.default=e.exports}}]);