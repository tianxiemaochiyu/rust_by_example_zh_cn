(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{508:function(t,n,s){"use strict";s.r(n);var e=s(4),i=Object(e.a)({},(function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"常量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常量"}},[t._v("#")]),t._v(" 常量")]),t._v(" "),s("p",[t._v("Rust 有两种常量，可以在任意作用域声明，包括全局作用域。它们都需要显式的类型声明：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("const")]),t._v("：不可改变的值（通常使用这种）。")]),t._v(" "),s("li",[s("code",[t._v("static")]),t._v("：具有 "),s("RouterLink",{attrs:{to:"/scope/lifetime/static_lifetime.html"}},[s("code",[t._v("'static")])]),t._v(" 生命周期的，可以是可变的变量（译注：须使用\n"),s("code",[t._v("static mut")]),t._v(" 关键字）。")],1)]),t._v(" "),s("p",[t._v("有个特例就是 "),s("code",[t._v('"string"')]),t._v(" 字面量。它可以不经改动就被赋给一个 "),s("code",[t._v("static")]),t._v(" 变量，因为它\n的类型标记："),s("code",[t._v("&'static str")]),t._v(" 就包含了所要求的生命周期 "),s("code",[t._v("'static")]),t._v("。其他的引用类型都\n必须特地声明，使之拥有"),s("code",[t._v("'static")]),t._v(" 生命周期。这两种引用类型的差异似乎也无关紧要，因\n为无论如何，"),s("code",[t._v("static")]),t._v(" 变量都得显式地声明。")]),t._v(" "),s("div",{staticClass:"language-rust,editable,ignore,mdbook-runnable extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('// 全局变量是在在所有其他作用域之外声明的。\nstatic LANGUAGE: &\'static str = "Rust";\nconst  THRESHOLD: i32 = 10;\n\nfn is_big(n: i32) -> bool {\n    // 在一般函数中访问常量\n    n > THRESHOLD\n}\n\nfn main() {\n    let n = 16;\n\n    // 在 main 函数（主函数）中访问常量\n    println!("This is {}", LANGUAGE);\n    println!("The threshold is {}", THRESHOLD);\n    println!("{} is {}", n, if is_big(n) { "big" } else { "small" });\n\n    // 报错！不能修改一个 `const` 常量。\n    THRESHOLD = 5;\n    // 改正 ^ 注释掉此行\n}\n')])])]),s("h3",{attrs:{id:"参见："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参见："}},[t._v("#")]),t._v(" 参见：")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/rust-lang/rfcs/blob/master/text/0246-const-vs-static.md",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("const")]),t._v("/"),s("code",[t._v("static")]),t._v(" RFC"),s("OutboundLink")],1),t._v(",\n"),s("RouterLink",{attrs:{to:"/scope/lifetime/static_lifetime.html"}},[s("code",[t._v("'static")]),t._v(" 生命周期")])],1)])}),[],!1,null,null,null);n.default=i.exports}}]);